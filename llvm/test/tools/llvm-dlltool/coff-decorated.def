; RUN: llvm-dlltool -k -m i386 --input-def %s --output-lib %t.a
; RUN: llvm-nm %t.a | FileCheck %s -check-prefix=CHECK-NM

LIBRARY test.dll
EXPORTS
CdeclFunction
StdcallFunction@4
@FastcallFunction@4
StdcallAlias@4==StdcallFunction@4
??_7exception@@6B@
StdcallExportName@4=StdcallInternalFunction@4
OtherStdcallExportName@4=CdeclInternalFunction
CdeclExportName=StdcallInternalFunction@4

; CHECK-NM: T _CdeclFunction
; CHECK-NM: I __imp__CdeclFunction
; CHECK-NM: T _StdcallFunction@4
; CHECK-NM: I __imp__StdcallFunction@4
; CHECK-NM: T @FastcallFunction@4
; CHECK-NM: I __imp_@FastcallFunction@4
; CHECK-NM: T _StdcallAlias@4
; CHECK-NM: I __imp__StdcallAlias@4
; CHECK-NM: T ??_7exception@@6B@
; CHECK-NM: I __imp_??_7exception@@6B@
